# ============================================
# Appwrite Configuration (Primary Database)
# ============================================
# Para Appwrite Cloud (Recomendado):
APPWRITE_ENDPOINT=https://cloud.appwrite.io/v1
APPWRITE_PROJECT_ID=your-project-id
APPWRITE_API_KEY=your-api-key
APPWRITE_DATABASE_ID=your-database-id

# Client-side Appwrite Configuration (exposed to browser)
NEXT_PUBLIC_APPWRITE_ENDPOINT="https://cloud.appwrite.io/v1"
NEXT_PUBLIC_APPWRITE_PROJECT_ID="your-project-id"
NEXT_PUBLIC_APPWRITE_DATABASE_ID="your-database-id"

# Para Appwrite Self-Hosted:
# APPWRITE_ENDPOINT=http://localhost/v1
# APPWRITE_PROJECT_ID=your-project-id
# APPWRITE_API_KEY=your-api-key
# APPWRITE_DATABASE_ID=horizon_ai_db

# ============================================
# Server Configuration
# ============================================
NODE_ENV=development
PORT=3000

# ============================================
# API Configuration
# ============================================
# Base URL for API Routes (Next.js)
API_URL=http://localhost:3000

# ============================================
# JWT Configuration
# ============================================
# Generate secure secrets using: openssl rand -hex 32
JWT_SECRET=your-jwt-secret-key-change-this-in-production
JWT_EXPIRATION=7d
JWT_REFRESH_SECRET=your-jwt-refresh-secret-key-change-this-in-production
JWT_REFRESH_EXPIRATION=30d

# ============================================
# Cookies Configuration
# ============================================
COOKIE_MAX_AGE=604800000
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=lax

# ============================================
# CORS Configuration
# ============================================
CORS_ORIGIN=http://localhost:3000

# ============================================
# AI Integration (Optional)
# ============================================
GEMINI_API_KEY=your-gemini-api-key

# ============================================
# NFe Web Crawler AI Extraction Configuration
# ============================================
# AI Provider for invoice parsing: 'anthropic', 'openai', or 'gemini'
# Default: gemini
AI_PROVIDER=gemini

# API Key for the selected AI provider
# For Anthropic: Get your key from https://console.anthropic.com/
# For OpenAI: Get your key from https://platform.openai.com/api-keys
# For Gemini: Use GEMINI_API_KEY above or set AI_API_KEY
AI_API_KEY=your-ai-api-key-here

# Alternative: Provider-specific API keys (will be used if AI_API_KEY is not set)
ANTHROPIC_API_KEY=your-anthropic-api-key-here
OPENAI_API_KEY=your-openai-api-key-here
# GEMINI_API_KEY is already defined above in the AI Integration section

# AI Model to use for parsing
# For Anthropic: claude-3-5-sonnet-20241022 (recommended), claude-3-opus-20240229, claude-3-sonnet-20240229
# For OpenAI: gpt-4-turbo-preview, gpt-4, gpt-3.5-turbo
# For Gemini: gemini-2.5-flash (recommended, fast), gemini-2.5-pro (more capable)
# Default: gemini-2.5-flash
AI_MODEL=gemini-2.5-flash

# Cache TTL for parsed invoices (in milliseconds)
# Default: 86400000 (24 hours)
# Set to 0 to disable caching
CACHE_TTL=86400000

# Web crawler timeout (in milliseconds)
# Maximum time to wait for a single HTTP request
# Default: 30000 (30 seconds)
CRAWLER_TIMEOUT=30000

# Maximum number of redirects to follow
# Default: 5
CRAWLER_MAX_REDIRECTS=5

# Number of retry attempts for failed requests
# Default: 2
CRAWLER_RETRY_ATTEMPTS=2

# Delay between retry attempts (in milliseconds)
# Default: 1000 (1 second)
CRAWLER_RETRY_DELAY=1000

# Maximum HTML content size to process (in bytes)
# Default: 5242880 (5MB)
# Prevents memory issues with extremely large pages
MAX_HTML_SIZE=5242880

# Maximum number of invoices to cache in memory
# Default: 1000
# Uses LRU eviction when limit is reached
MAX_CACHE_SIZE=1000

# ============================================
# Cron Jobs Configuration
# ============================================
# Secret key for protecting cron endpoints
# Generate using: openssl rand -hex 32
CRON_SECRET=your-cron-secret-key-change-this-in-production
